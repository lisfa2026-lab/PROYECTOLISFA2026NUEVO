{"ast":null,"code":"import _objectSpread from\"C:/Users/Coordinaci\\xF3n B\\xE1sicos/Desktop/PROYECTOLISFA2026NUEVO/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{Card,CardContent,CardHeader,CardTitle}from\"@/components/ui/card\";import{Button}from\"@/components/ui/button\";import{Input}from\"@/components/ui/input\";import{Label}from\"@/components/ui/label\";import{Dialog,DialogContent,DialogDescription,DialogHeader,DialogTitle,DialogTrigger}from\"@/components/ui/dialog\";import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from\"@/components/ui/select\";import{ArrowLeft,Plus,Edit,Trash2,Download,Upload,QrCode as QrCodeIcon}from\"lucide-react\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const StudentManagement=_ref=>{let{user,onLogout}=_ref;const navigate=useNavigate();const[students,setStudents]=useState([]);const[loading,setLoading]=useState(true);const[isDialogOpen,setIsDialogOpen]=useState(false);const[editingStudent,setEditingStudent]=useState(null);const[formData,setFormData]=useState({email:\"\",password:\"\",full_name:\"\",grade:\"\",section:\"\"});useEffect(()=>{fetchStudents();},[]);const fetchStudents=async()=>{try{const response=await axios.get(\"\".concat(API,\"/users?role=student\"));setStudents(response.data);}catch(error){toast.error(\"Error al cargar estudiantes\");}finally{setLoading(false);}};const handleAddStudent=async e=>{e.preventDefault();try{await axios.post(\"\".concat(API,\"/auth/register\"),_objectSpread(_objectSpread({},formData),{},{role:\"student\"}));toast.success(\"Estudiante agregado exitosamente\");setIsDialogOpen(false);setFormData({email:\"\",password:\"\",full_name:\"\",grade:\"\",section:\"\"});fetchStudents();}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||\"Error al agregar estudiante\");}};const handleUpdateStudent=async e=>{e.preventDefault();try{await axios.put(\"\".concat(API,\"/users/\").concat(editingStudent.id),{full_name:formData.full_name,grade:formData.grade,section:formData.section});toast.success(\"Estudiante actualizado exitosamente\");setIsDialogOpen(false);setEditingStudent(null);setFormData({email:\"\",password:\"\",full_name:\"\",grade:\"\",section:\"\"});fetchStudents();}catch(error){toast.error(\"Error al actualizar estudiante\");}};const handleDeleteStudent=async studentId=>{if(window.confirm(\"¿Está seguro de eliminar este estudiante?\")){try{await axios.delete(\"\".concat(API,\"/users/\").concat(studentId));toast.success(\"Estudiante eliminado exitosamente\");fetchStudents();}catch(error){toast.error(\"Error al eliminar estudiante\");}}};const handleUploadPhoto=async(studentId,file)=>{const formData=new FormData();formData.append(\"file\",file);try{await axios.post(\"\".concat(API,\"/users/\").concat(studentId,\"/upload-photo\"),formData);toast.success(\"Foto subida exitosamente\");fetchStudents();}catch(error){toast.error(\"Error al subir foto\");}};const handleDownloadCard=studentId=>{// Descargar directo desde el backend - sin blobs, sin complicaciones\nconst student=students.find(s=>s.id===studentId);const fileName=student?student.full_name.replace(/\\s+/g,'_'):studentId;toast.loading(\"Generando carnet...\",{id:'carnet-gen'});// Crear link directo al endpoint\nconst downloadUrl=\"\".concat(API,\"/cards/generate/\").concat(studentId);// Usar window.location o crear link temporal\nconst link=document.createElement('a');link.href=downloadUrl;link.download=\"carnet_\".concat(fileName,\".pdf\");link.target='_blank';document.body.appendChild(link);link.click();document.body.removeChild(link);setTimeout(()=>{toast.dismiss('carnet-gen');toast.success(\"Carnet descargado: carnet_\".concat(fileName,\".pdf\\nRevisa tu carpeta de Descargas\"),{duration:4000});},1000);};const openAddDialog=()=>{setEditingStudent(null);setFormData({email:\"\",password:\"\",full_name:\"\",grade:\"\",section:\"\"});setIsDialogOpen(true);};const openEditDialog=student=>{setEditingStudent(student);setFormData({email:student.email,password:\"\",full_name:student.full_name,grade:student.grade||\"\",section:student.section||\"\"});setIsDialogOpen(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",style:{background:'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:()=>navigate(-1),\"data-testid\":\"back-button\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",style:{color:'#c41e3a',fontFamily:'Manrope, sans-serif'},children:\"Gesti\\xF3n de Estudiantes\"})]}),/*#__PURE__*/_jsxs(Dialog,{open:isDialogOpen,onOpenChange:setIsDialogOpen,children:[/*#__PURE__*/_jsx(DialogTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{onClick:openAddDialog,\"data-testid\":\"add-student-button\",style:{background:'linear-gradient(135deg, #c41e3a 0%, #8b1529 100%)'},className:\"text-white\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Agregar Estudiante\"]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:editingStudent?\"Editar Estudiante\":\"Nuevo Estudiante\"}),/*#__PURE__*/_jsx(DialogDescription,{children:editingStudent?\"Actualizar información del estudiante\":\"Completar el formulario para agregar un nuevo estudiante\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:editingStudent?handleUpdateStudent:handleAddStudent,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"full_name\",children:\"Nombre Completo\"}),/*#__PURE__*/_jsx(Input,{id:\"full_name\",\"data-testid\":\"student-name\",value:formData.full_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{full_name:e.target.value})),required:true})]}),!editingStudent&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"email\",children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(Input,{id:\"email\",\"data-testid\":\"student-email\",type:\"email\",value:formData.email,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{email:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Input,{id:\"password\",\"data-testid\":\"student-password\",type:\"password\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"grade\",children:\"Grado\"}),/*#__PURE__*/_jsx(Input,{id:\"grade\",\"data-testid\":\"student-grade\",value:formData.grade,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{grade:e.target.value})),placeholder:\"1ro, 2do, etc.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"section\",children:\"Secci\\xF3n\"}),/*#__PURE__*/_jsx(Input,{id:\"section\",\"data-testid\":\"student-section\",value:formData.section,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{section:e.target.value})),placeholder:\"A, B, C\"})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-full\",\"data-testid\":\"save-student-button\",children:editingStudent?\"Actualizar\":\"Agregar\"})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):students.length===0?/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{className:\"py-12 text-center text-gray-500\",children:\"No hay estudiantes registrados\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:students.map(student=>/*#__PURE__*/_jsxs(Card,{className:\"card-hover\",\"data-testid\":\"student-card-\".concat(student.id),children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[student.photo_url?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(BACKEND_URL).concat(student.photo_url),alt:student.full_name,className:\"w-16 h-16 rounded-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-gray-400\",children:student.full_name.charAt(0)})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-base\",children:student.full_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:student.student_id}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[student.grade,\" - \",student.section]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",onClick:()=>openEditDialog(student),\"data-testid\":\"edit-student-\".concat(student.id),children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",onClick:()=>handleDeleteStudent(student.id),\"data-testid\":\"delete-student-\".concat(student.id),children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4 text-red-600\"})})]})]})}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo-\".concat(student.id),className:\"flex-1\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"sm\",className:\"w-full\",asChild:true,children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Subir Foto\"]})})}),/*#__PURE__*/_jsx(\"input\",{id:\"photo-\".concat(student.id),type:\"file\",accept:\"image/*\",className:\"hidden\",onChange:e=>handleUploadPhoto(student.id,e.target.files[0])})]}),/*#__PURE__*/_jsxs(Button,{variant:\"default\",size:\"sm\",className:\"w-full\",onClick:()=>handleDownloadCard(student.id),\"data-testid\":\"download-card-\".concat(student.id),style:{background:'linear-gradient(135deg, #1e3a5f 0%, #142740 100%)'},children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Ver/Descargar Carnet\"]}),student.qr_code&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-white rounded-lg border\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-center text-gray-600 mb-1\",children:\"C\\xF3digo QR\"}),/*#__PURE__*/_jsx(\"img\",{src:student.qr_code,alt:\"QR Code\",className:\"w-full\"})]})]})]},student.id))})})]});};export default StudentManagement;","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","Card","CardContent","CardHeader","CardTitle","Button","Input","Label","Dialog","DialogContent","DialogDescription","DialogHeader","DialogTitle","DialogTrigger","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","ArrowLeft","Plus","Edit","Trash2","Download","Upload","QrCode","QrCodeIcon","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","StudentManagement","_ref","user","onLogout","navigate","students","setStudents","loading","setLoading","isDialogOpen","setIsDialogOpen","editingStudent","setEditingStudent","formData","setFormData","email","password","full_name","grade","section","fetchStudents","response","get","data","error","handleAddStudent","e","preventDefault","post","_objectSpread","role","success","_error$response","_error$response$data","detail","handleUpdateStudent","put","id","handleDeleteStudent","studentId","window","confirm","delete","handleUploadPhoto","file","FormData","append","handleDownloadCard","student","find","s","fileName","replace","downloadUrl","link","document","createElement","href","download","target","body","appendChild","click","removeChild","setTimeout","dismiss","duration","openAddDialog","openEditDialog","className","style","background","children","variant","onClick","color","fontFamily","open","onOpenChange","asChild","onSubmit","htmlFor","value","onChange","required","type","placeholder","length","map","photo_url","src","alt","charAt","student_id","size","accept","files","qr_code"],"sources":["C:/Users/Coordinación Básicos/Desktop/PROYECTOLISFA2026NUEVO/frontend/src/pages/StudentManagement.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { ArrowLeft, Plus, Edit, Trash2, Download, Upload, QrCode as QrCodeIcon } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst StudentManagement = ({ user, onLogout }) => {\n  const navigate = useNavigate();\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    full_name: \"\",\n    grade: \"\",\n    section: \"\"\n  });\n\n  useEffect(() => {\n    fetchStudents();\n  }, []);\n\n  const fetchStudents = async () => {\n    try {\n      const response = await axios.get(`${API}/users?role=student`);\n      setStudents(response.data);\n    } catch (error) {\n      toast.error(\"Error al cargar estudiantes\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddStudent = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API}/auth/register`, {\n        ...formData,\n        role: \"student\"\n      });\n      toast.success(\"Estudiante agregado exitosamente\");\n      setIsDialogOpen(false);\n      setFormData({ email: \"\", password: \"\", full_name: \"\", grade: \"\", section: \"\" });\n      fetchStudents();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || \"Error al agregar estudiante\");\n    }\n  };\n\n  const handleUpdateStudent = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.put(`${API}/users/${editingStudent.id}`, {\n        full_name: formData.full_name,\n        grade: formData.grade,\n        section: formData.section\n      });\n      toast.success(\"Estudiante actualizado exitosamente\");\n      setIsDialogOpen(false);\n      setEditingStudent(null);\n      setFormData({ email: \"\", password: \"\", full_name: \"\", grade: \"\", section: \"\" });\n      fetchStudents();\n    } catch (error) {\n      toast.error(\"Error al actualizar estudiante\");\n    }\n  };\n\n  const handleDeleteStudent = async (studentId) => {\n    if (window.confirm(\"¿Está seguro de eliminar este estudiante?\")) {\n      try {\n        await axios.delete(`${API}/users/${studentId}`);\n        toast.success(\"Estudiante eliminado exitosamente\");\n        fetchStudents();\n      } catch (error) {\n        toast.error(\"Error al eliminar estudiante\");\n      }\n    }\n  };\n\n  const handleUploadPhoto = async (studentId, file) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    try {\n      await axios.post(`${API}/users/${studentId}/upload-photo`, formData);\n      toast.success(\"Foto subida exitosamente\");\n      fetchStudents();\n    } catch (error) {\n      toast.error(\"Error al subir foto\");\n    }\n  };\n\n  const handleDownloadCard = (studentId) => {\n    // Descargar directo desde el backend - sin blobs, sin complicaciones\n    const student = students.find(s => s.id === studentId);\n    const fileName = student ? student.full_name.replace(/\\s+/g, '_') : studentId;\n    \n    toast.loading(\"Generando carnet...\", { id: 'carnet-gen' });\n    \n    // Crear link directo al endpoint\n    const downloadUrl = `${API}/cards/generate/${studentId}`;\n    \n    // Usar window.location o crear link temporal\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = `carnet_${fileName}.pdf`;\n    link.target = '_blank';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    \n    setTimeout(() => {\n      toast.dismiss('carnet-gen');\n      toast.success(\n        `Carnet descargado: carnet_${fileName}.pdf\\nRevisa tu carpeta de Descargas`,\n        { duration: 4000 }\n      );\n    }, 1000);\n  };\n\n  const openAddDialog = () => {\n    setEditingStudent(null);\n    setFormData({ email: \"\", password: \"\", full_name: \"\", grade: \"\", section: \"\" });\n    setIsDialogOpen(true);\n  };\n\n  const openEditDialog = (student) => {\n    setEditingStudent(student);\n    setFormData({\n      email: student.email,\n      password: \"\",\n      full_name: student.full_name,\n      grade: student.grade || \"\",\n      section: student.section || \"\"\n    });\n    setIsDialogOpen(true);\n  };\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)' }}>\n      <div className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <Button variant=\"ghost\" onClick={() => navigate(-1)} data-testid=\"back-button\">\n                <ArrowLeft className=\"w-5 h-5\" />\n              </Button>\n              <h1 className=\"text-2xl font-bold\" style={{ color: '#c41e3a', fontFamily: 'Manrope, sans-serif' }}>\n                Gestión de Estudiantes\n              </h1>\n            </div>\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n              <DialogTrigger asChild>\n                <Button \n                  onClick={openAddDialog}\n                  data-testid=\"add-student-button\"\n                  style={{ background: 'linear-gradient(135deg, #c41e3a 0%, #8b1529 100%)' }}\n                  className=\"text-white\"\n                >\n                  <Plus className=\"w-4 h-4 mr-2\" />\n                  Agregar Estudiante\n                </Button>\n              </DialogTrigger>\n              <DialogContent>\n                <DialogHeader>\n                  <DialogTitle>{editingStudent ? \"Editar Estudiante\" : \"Nuevo Estudiante\"}</DialogTitle>\n                  <DialogDescription>\n                    {editingStudent ? \"Actualizar información del estudiante\" : \"Completar el formulario para agregar un nuevo estudiante\"}\n                  </DialogDescription>\n                </DialogHeader>\n                <form onSubmit={editingStudent ? handleUpdateStudent : handleAddStudent} className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"full_name\">Nombre Completo</Label>\n                    <Input\n                      id=\"full_name\"\n                      data-testid=\"student-name\"\n                      value={formData.full_name}\n                      onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n                      required\n                    />\n                  </div>\n                  {!editingStudent && (\n                    <>\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"email\">Correo Electrónico</Label>\n                        <Input\n                          id=\"email\"\n                          data-testid=\"student-email\"\n                          type=\"email\"\n                          value={formData.email}\n                          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                          required\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label htmlFor=\"password\">Contraseña</Label>\n                        <Input\n                          id=\"password\"\n                          data-testid=\"student-password\"\n                          type=\"password\"\n                          value={formData.password}\n                          onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                          required\n                        />\n                      </div>\n                    </>\n                  )}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"grade\">Grado</Label>\n                      <Input\n                        id=\"grade\"\n                        data-testid=\"student-grade\"\n                        value={formData.grade}\n                        onChange={(e) => setFormData({ ...formData, grade: e.target.value })}\n                        placeholder=\"1ro, 2do, etc.\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"section\">Sección</Label>\n                      <Input\n                        id=\"section\"\n                        data-testid=\"student-section\"\n                        value={formData.section}\n                        onChange={(e) => setFormData({ ...formData, section: e.target.value })}\n                        placeholder=\"A, B, C\"\n                      />\n                    </div>\n                  </div>\n                  <Button type=\"submit\" className=\"w-full\" data-testid=\"save-student-button\">\n                    {editingStudent ? \"Actualizar\" : \"Agregar\"}\n                  </Button>\n                </form>\n              </DialogContent>\n            </Dialog>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {loading ? (\n          <div className=\"flex justify-center py-12\">\n            <div className=\"spinner\"></div>\n          </div>\n        ) : students.length === 0 ? (\n          <Card>\n            <CardContent className=\"py-12 text-center text-gray-500\">\n              No hay estudiantes registrados\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {students.map((student) => (\n              <Card key={student.id} className=\"card-hover\" data-testid={`student-card-${student.id}`}>\n                <CardHeader>\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      {student.photo_url ? (\n                        <img \n                          src={`${BACKEND_URL}${student.photo_url}`} \n                          alt={student.full_name}\n                          className=\"w-16 h-16 rounded-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center\">\n                          <span className=\"text-2xl font-bold text-gray-400\">\n                            {student.full_name.charAt(0)}\n                          </span>\n                        </div>\n                      )}\n                      <div>\n                        <CardTitle className=\"text-base\">{student.full_name}</CardTitle>\n                        <p className=\"text-xs text-gray-600\">{student.student_id}</p>\n                        <p className=\"text-xs text-gray-500\">{student.grade} - {student.section}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col space-y-1\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => openEditDialog(student)}\n                        data-testid={`edit-student-${student.id}`}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => handleDeleteStudent(student.id)}\n                        data-testid={`delete-student-${student.id}`}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-600\" />\n                      </Button>\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between gap-2\">\n                    <label htmlFor={`photo-${student.id}`} className=\"flex-1\">\n                      <Button variant=\"outline\" size=\"sm\" className=\"w-full\" asChild>\n                        <span>\n                          <Upload className=\"w-4 h-4 mr-2\" />\n                          Subir Foto\n                        </span>\n                      </Button>\n                    </label>\n                    <input\n                      id={`photo-${student.id}`}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      className=\"hidden\"\n                      onChange={(e) => handleUploadPhoto(student.id, e.target.files[0])}\n                    />\n                  </div>\n                  <Button\n                    variant=\"default\"\n                    size=\"sm\"\n                    className=\"w-full\"\n                    onClick={() => handleDownloadCard(student.id)}\n                    data-testid={`download-card-${student.id}`}\n                    style={{ background: 'linear-gradient(135deg, #1e3a5f 0%, #142740 100%)' }}\n                  >\n                    <Download className=\"w-4 h-4 mr-2\" />\n                    Ver/Descargar Carnet\n                  </Button>\n                  {student.qr_code && (\n                    <div className=\"mt-2 p-2 bg-white rounded-lg border\">\n                      <p className=\"text-xs text-center text-gray-600 mb-1\">Código QR</p>\n                      <img src={student.qr_code} alt=\"QR Code\" className=\"w-full\" />\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StudentManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}