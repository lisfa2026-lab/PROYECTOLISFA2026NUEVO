{"ast":null,"code":"import{useEffect,useState}from\"react\";import\"@/App.css\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import Login from\"@/pages/Login\";import AdminDashboard from\"@/pages/AdminDashboard\";import TeacherDashboard from\"@/pages/TeacherDashboard\";import ParentDashboard from\"@/pages/ParentDashboard\";import StudentManagement from\"@/pages/StudentManagement\";import UserManagement from\"@/pages/UserManagement\";import AttendanceScanner from\"@/pages/AttendanceScanner\";import AttendanceHistory from\"@/pages/AttendanceHistory\";import ParentLink from\"@/pages/ParentLink\";import ParentChildLink from\"@/pages/ParentChildLink\";import Downloads from\"@/pages/Downloads\";import{Toaster}from\"@/components/ui/sonner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);useEffect(()=>{// Check if user is logged in\nconst storedUser=localStorage.getItem(\"user\");if(storedUser){setUser(JSON.parse(storedUser));}},[]);const handleLogin=userData=>{setUser(userData);localStorage.setItem(\"user\",JSON.stringify(userData));};const handleLogout=()=>{setUser(null);localStorage.removeItem(\"user\");localStorage.removeItem(\"token\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?user.role===\"admin\"?/*#__PURE__*/_jsx(Navigate,{to:\"/admin\"}):user.role===\"teacher\"?/*#__PURE__*/_jsx(Navigate,{to:\"/teacher\"}):user.role===\"parent\"?/*#__PURE__*/_jsx(Navigate,{to:\"/parent\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:user&&user.role===\"admin\"?/*#__PURE__*/_jsx(AdminDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/teacher\",element:user&&user.role===\"teacher\"?/*#__PURE__*/_jsx(TeacherDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/parent\",element:user&&user.role===\"parent\"?/*#__PURE__*/_jsx(ParentDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/students\",element:user&&(user.role===\"admin\"||user.role===\"teacher\")?/*#__PURE__*/_jsx(StudentManagement,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/scanner\",element:user&&(user.role===\"admin\"||user.role===\"teacher\")?/*#__PURE__*/_jsx(AttendanceScanner,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/attendance\",element:user?/*#__PURE__*/_jsx(AttendanceHistory,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/parent-link\",element:user&&user.role===\"admin\"?/*#__PURE__*/_jsx(ParentChildLink,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/usuarios\",element:user&&user.role===\"admin\"?/*#__PURE__*/_jsx(UserManagement,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/descargas\",element:/*#__PURE__*/_jsx(Downloads,{})})]})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",richColors:true})]});}export default App;","map":{"version":3,"names":["useEffect","useState","BrowserRouter","Routes","Route","Navigate","Login","AdminDashboard","TeacherDashboard","ParentDashboard","StudentManagement","UserManagement","AttendanceScanner","AttendanceHistory","ParentLink","ParentChildLink","Downloads","Toaster","jsx","_jsx","jsxs","_jsxs","App","user","setUser","storedUser","localStorage","getItem","JSON","parse","handleLogin","userData","setItem","stringify","handleLogout","removeItem","className","children","path","element","role","to","onLogin","onLogout","position","richColors"],"sources":["C:/Users/Coordinación Básicos/Desktop/PROYECTOLISFA2026NUEVO/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"@/App.css\";\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport Login from \"@/pages/Login\";\nimport AdminDashboard from \"@/pages/AdminDashboard\";\nimport TeacherDashboard from \"@/pages/TeacherDashboard\";\nimport ParentDashboard from \"@/pages/ParentDashboard\";\nimport StudentManagement from \"@/pages/StudentManagement\";\nimport UserManagement from \"@/pages/UserManagement\";\nimport AttendanceScanner from \"@/pages/AttendanceScanner\";\nimport AttendanceHistory from \"@/pages/AttendanceHistory\";\nimport ParentLink from \"@/pages/ParentLink\";\nimport ParentChildLink from \"@/pages/ParentChildLink\";\nimport Downloads from \"@/pages/Downloads\";\nimport { Toaster } from \"@/components/ui/sonner\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // Check if user is logged in\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n  };\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              user ? (\n                user.role === \"admin\" ? (\n                  <Navigate to=\"/admin\" />\n                ) : user.role === \"teacher\" ? (\n                  <Navigate to=\"/teacher\" />\n                ) : user.role === \"parent\" ? (\n                  <Navigate to=\"/parent\" />\n                ) : (\n                  <Navigate to=\"/login\" />\n                )\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/login\"\n            element={<Login onLogin={handleLogin} />}\n          />\n          <Route\n            path=\"/admin\"\n            element={\n              user && user.role === \"admin\" ? (\n                <AdminDashboard user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/teacher\"\n            element={\n              user && user.role === \"teacher\" ? (\n                <TeacherDashboard user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/parent\"\n            element={\n              user && user.role === \"parent\" ? (\n                <ParentDashboard user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/students\"\n            element={\n              user && (user.role === \"admin\" || user.role === \"teacher\") ? (\n                <StudentManagement user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/scanner\"\n            element={\n              user && (user.role === \"admin\" || user.role === \"teacher\") ? (\n                <AttendanceScanner user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/attendance\"\n            element={\n              user ? (\n                <AttendanceHistory user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/parent-link\"\n            element={\n              user && user.role === \"admin\" ? (\n                <ParentChildLink user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/usuarios\"\n            element={\n              user && user.role === \"admin\" ? (\n                <UserManagement user={user} onLogout={handleLogout} />\n              ) : (\n                <Navigate to=\"/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/descargas\"\n            element={<Downloads />}\n          />\n        </Routes>\n      </BrowserRouter>\n      <Toaster position=\"top-right\" richColors />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}