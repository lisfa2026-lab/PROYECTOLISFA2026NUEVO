{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{Card,CardContent,CardHeader,CardTitle}from\"@/components/ui/card\";import{Button}from\"@/components/ui/button\";import{QrCode,FileText,LogOut,UserCheck}from\"lucide-react\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const TeacherDashboard=_ref=>{let{user,onLogout}=_ref;const navigate=useNavigate();const[stats,setStats]=useState(null);useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const response=await axios.get(\"\".concat(API,\"/dashboard/stats\"));setStats(response.data);}catch(error){toast.error(\"Error al cargar estadísticas\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",style:{background:'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.jpeg\",alt:\"LISFA\",className:\"w-12 h-12 object-contain\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",style:{color:'#1e3a5f',fontFamily:'Manrope, sans-serif'},children:\"Panel de Maestro\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:user.full_name})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:onLogout,className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),\"Cerrar Sesi\\xF3n\"]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(Card,{className:\"card-hover\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium text-gray-600\",children:\"Total Estudiantes\"}),/*#__PURE__*/_jsx(UserCheck,{className:\"w-5 h-5\",style:{color:'#1e3a5f'}})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold\",children:(stats===null||stats===void 0?void 0:stats.total_students)||0})})]}),/*#__PURE__*/_jsxs(Card,{className:\"card-hover\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium text-gray-600\",children:\"Presentes Hoy\"}),/*#__PURE__*/_jsx(UserCheck,{className:\"w-5 h-5\",style:{color:'#7cb342'}})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold\",children:(stats===null||stats===void 0?void 0:stats.today_present)||0})})]}),/*#__PURE__*/_jsxs(Card,{className:\"card-hover\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"flex flex-row items-center justify-between pb-2\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-sm font-medium text-gray-600\",children:\"Tasa de Asistencia\"}),/*#__PURE__*/_jsx(UserCheck,{className:\"w-5 h-5\",style:{color:'#f4c430'}})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold\",children:[(stats===null||stats===void 0?void 0:stats.attendance_rate)||0,\"%\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(Card,{className:\"card-hover cursor-pointer\",onClick:()=>navigate('/scanner'),children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg\",style:{background:'linear-gradient(135deg, #1e3a5f 0%, #142740 100%)'},children:/*#__PURE__*/_jsx(QrCode,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Escanear Asistencia\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Registrar entrada/salida con QR\"})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"card-hover cursor-pointer\",onClick:()=>navigate('/attendance'),children:/*#__PURE__*/_jsx(CardContent,{className:\"pt-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg\",style:{background:'linear-gradient(135deg, #7cb342 0%, #5a9032 100%)'},children:/*#__PURE__*/_jsx(FileText,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Ver Asistencia\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Revisar historial y reportes\"})]})]})})})]})]})]});};export default TeacherDashboard;","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","Card","CardContent","CardHeader","CardTitle","Button","QrCode","FileText","LogOut","UserCheck","toast","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","TeacherDashboard","_ref","user","onLogout","navigate","stats","setStats","fetchStats","response","get","data","error","className","style","background","children","src","alt","color","fontFamily","full_name","variant","onClick","total_students","today_present","attendance_rate"],"sources":["C:/Users/Coordinación Básicos/Desktop/PROYECTOLISFA2026NUEVO/frontend/src/pages/TeacherDashboard.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { QrCode, FileText, LogOut, UserCheck } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst TeacherDashboard = ({ user, onLogout }) => {\n  const navigate = useNavigate();\n  const [stats, setStats] = useState(null);\n\n  useEffect(() => {\n    fetchStats();\n  }, []);\n\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API}/dashboard/stats`);\n      setStats(response.data);\n    } catch (error) {\n      toast.error(\"Error al cargar estadísticas\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: 'linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)' }}>\n      <div className=\"bg-white shadow-md\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <img \n                src=\"/logo.jpeg\" \n                alt=\"LISFA\" \n                className=\"w-12 h-12 object-contain\"\n              />\n              <div>\n                <h1 className=\"text-2xl font-bold\" style={{ color: '#1e3a5f', fontFamily: 'Manrope, sans-serif' }}>\n                  Panel de Maestro\n                </h1>\n                <p className=\"text-sm text-gray-600\">{user.full_name}</p>\n              </div>\n            </div>\n            <Button variant=\"outline\" onClick={onLogout} className=\"flex items-center gap-2\">\n              <LogOut className=\"w-4 h-4\" />\n              Cerrar Sesión\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <Card className=\"card-hover\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <CardTitle className=\"text-sm font-medium text-gray-600\">Total Estudiantes</CardTitle>\n              <UserCheck className=\"w-5 h-5\" style={{ color: '#1e3a5f' }} />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold\">{stats?.total_students || 0}</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"card-hover\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <CardTitle className=\"text-sm font-medium text-gray-600\">Presentes Hoy</CardTitle>\n              <UserCheck className=\"w-5 h-5\" style={{ color: '#7cb342' }} />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold\">{stats?.today_present || 0}</div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"card-hover\">\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n              <CardTitle className=\"text-sm font-medium text-gray-600\">Tasa de Asistencia</CardTitle>\n              <UserCheck className=\"w-5 h-5\" style={{ color: '#f4c430' }} />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold\">{stats?.attendance_rate || 0}%</div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <Card className=\"card-hover cursor-pointer\" onClick={() => navigate('/scanner')}>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"p-3 rounded-lg\" style={{ background: 'linear-gradient(135deg, #1e3a5f 0%, #142740 100%)' }}>\n                  <QrCode className=\"w-8 h-8 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold\">Escanear Asistencia</h3>\n                  <p className=\"text-sm text-gray-600\">Registrar entrada/salida con QR</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"card-hover cursor-pointer\" onClick={() => navigate('/attendance')}>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center space-x-4\">\n                <div className=\"p-3 rounded-lg\" style={{ background: 'linear-gradient(135deg, #7cb342 0%, #5a9032 100%)' }}>\n                  <FileText className=\"w-8 h-8 text-white\" />\n                </div>\n                <div>\n                  <h3 className=\"text-lg font-semibold\">Ver Asistencia</h3>\n                  <p className=\"text-sm text-gray-600\">Revisar historial y reportes</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TeacherDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}