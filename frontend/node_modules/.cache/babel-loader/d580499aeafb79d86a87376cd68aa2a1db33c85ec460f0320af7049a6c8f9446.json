{"ast":null,"code":"import{useState,useEffect,useRef}from\"react\";import axios from\"axios\";import{Card,CardContent,CardHeader,CardTitle}from\"@/components/ui/card\";import{Button}from\"@/components/ui/button\";import{CheckCircle,AlertCircle,QrCode,Usb}from\"lucide-react\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const USBQRScanner=_ref=>{let{user}=_ref;const[recentScans,setRecentScans]=useState([]);const[isActive,setIsActive]=useState(true);const[scannerMode,setScannerMode]=useState('usb');// 'usb' o 'camera'\nconst inputRef=useRef(null);const scanBuffer=useRef('');const scanTimeout=useRef(null);// Mantener el foco en el input invisible para capturar el lector USB\nuseEffect(()=>{if(isActive&&scannerMode==='usb'&&inputRef.current){inputRef.current.focus();}},[isActive,scannerMode,recentScans]);// Refocus periódicamente para asegurar captura\nuseEffect(()=>{if(scannerMode==='usb'){const intervalId=setInterval(()=>{if(inputRef.current&&document.activeElement!==inputRef.current){inputRef.current.focus();}},500);return()=>clearInterval(intervalId);}},[scannerMode]);const processAttendance=async qrData=>{try{const response=await axios.post(\"\".concat(API,\"/attendance\"),{qr_data:qrData.trim(),recorded_by:user.id});const attendance=response.data;// Toast de éxito\ntoast.success(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:attendance.user_name}),/*#__PURE__*/_jsx(\"br\",{}),attendance.check_out_time?'Salida registrada':'Entrada registrada',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:new Date(attendance.check_in_time).toLocaleTimeString('es-ES')})]}),{duration:3000});// Agregar a escaneos recientes\nsetRecentScans(prev=>[attendance,...prev.slice(0,9)]);// Play sound\nplaySuccessSound();}catch(error){var _error$response,_error$response$data;const message=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||\"Error al registrar asistencia\";toast.error(message,{duration:4000});playErrorSound();}};const playSuccessSound=()=>{const audio=new Audio('data:audio/wav;base64,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');audio.play().catch(()=>{});};const playErrorSound=()=>{const audio=new Audio('data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA==');audio.play().catch(()=>{});};const handleKeyDown=e=>{// El lector USB envía caracteres uno por uno\nif(e.key==='Enter'){// El lector envía Enter al final\nif(scanBuffer.current.trim()){processAttendance(scanBuffer.current);scanBuffer.current='';}}else if(e.key.length===1){// Acumular caracteres\nscanBuffer.current+=e.key;// Timeout para limpiar buffer si no llega Enter\nif(scanTimeout.current){clearTimeout(scanTimeout.current);}scanTimeout.current=setTimeout(()=>{scanBuffer.current='';},1000);}};const formatTime=dateString=>{const date=new Date(dateString);return date.toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit',second:'2-digit'});};const getStatusColor=status=>{switch(status){case'present':return'#7cb342';case'late':return'#f4c430';default:return'#6b7280';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"flex items-center gap-2\",children:scannerMode==='usb'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Usb,{className:\"w-5 h-5\"}),\" Modo: Lector USB\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(QrCode,{className:\"w-5 h-5\"}),\" Modo: C\\xE1mara\"]})}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setScannerMode(scannerMode==='usb'?'camera':'usb'),\"data-testid\":\"toggle-scanner-mode\",children:[\"Cambiar a \",scannerMode==='usb'?'Cámara':'USB']})]})}),/*#__PURE__*/_jsx(CardContent,{children:scannerMode==='usb'?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",onKeyDown:handleKeyDown,className:\"sr-only\",autoFocus:true,\"aria-label\":\"Scanner input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-12 border-2 border-dashed rounded-lg\",style:{borderColor:isActive?'#7cb342':'#ccc',backgroundColor:isActive?'#f0f9f0':'#f5f5f5'},children:[/*#__PURE__*/_jsx(Usb,{className:\"w-16 h-16 mx-auto mb-4\",style:{color:'#1e3a5f'}}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:isActive?'Lector USB Activo':'Lector USB Inactivo'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:isActive?'Acerque el carnet al lector QR USB. El registro será automático e inmediato.':'El lector está pausado. Active para continuar.'}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center gap-4\",children:/*#__PURE__*/_jsxs(Button,{onClick:()=>setIsActive(!isActive),variant:isActive?'destructive':'default',\"data-testid\":\"toggle-scanner\",children:[isActive?'Pausar':'Activar',\" Lector\"]})}),isActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-center gap-2 text-green-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse w-3 h-3 bg-green-600 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"Esperando escaneo...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-blue-900 mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"}),\"Instrucciones del Lector USB:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-blue-800 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 El lector QR USB 2D Steren funciona como un teclado\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Acerque el carnet al lector - NO necesita presionar nada\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 El registro es autom\\xE1tico e instant\\xE1neo\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Despu\\xE9s de cada escaneo, est\\xE1 listo para el siguiente\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Si no funciona, verifique que el lector est\\xE9 conectado\"})]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-8\",children:[/*#__PURE__*/_jsx(QrCode,{className:\"w-12 h-12 mx-auto mb-4\",style:{color:'#1e3a5f'}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Modo c\\xE1mara disponible como respaldo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Use este modo si el lector USB no est\\xE1 disponible\"})]})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{children:\"Registros Recientes\"})}),/*#__PURE__*/_jsx(CardContent,{children:recentScans.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No hay registros recientes\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:recentScans.map((scan,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-white rounded-lg border hover:shadow-md transition-shadow\",\"data-testid\":\"recent-scan-\".concat(index),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:scan.user_name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 capitalize\",children:scan.user_role})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold\",style:{color:getStatusColor(scan.status)},children:scan.check_out_time?'Salida':'Entrada'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:formatTime(scan.check_out_time||scan.check_in_time)})]})]},index))})})]})]});};export default USBQRScanner;","map":{"version":3,"names":["useState","useEffect","useRef","axios","Card","CardContent","CardHeader","CardTitle","Button","CheckCircle","AlertCircle","QrCode","Usb","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","USBQRScanner","_ref","user","recentScans","setRecentScans","isActive","setIsActive","scannerMode","setScannerMode","inputRef","scanBuffer","scanTimeout","current","focus","intervalId","setInterval","document","activeElement","clearInterval","processAttendance","qrData","response","post","qr_data","trim","recorded_by","id","attendance","data","success","children","user_name","check_out_time","Date","check_in_time","toLocaleTimeString","duration","prev","slice","playSuccessSound","error","_error$response","_error$response$data","message","detail","playErrorSound","audio","Audio","play","catch","handleKeyDown","e","key","length","clearTimeout","setTimeout","formatTime","dateString","date","hour","minute","second","getStatusColor","status","className","variant","size","onClick","ref","type","onKeyDown","autoFocus","style","borderColor","backgroundColor","color","map","scan","index","user_role"],"sources":["C:/Users/Coordinación Básicos/Desktop/PROYECTOLISFA2026NUEVO/frontend/src/components/USBQRScanner.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { CheckCircle, AlertCircle, QrCode, Usb } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst USBQRScanner = ({ user }) => {\n  const [recentScans, setRecentScans] = useState([]);\n  const [isActive, setIsActive] = useState(true);\n  const [scannerMode, setScannerMode] = useState('usb'); // 'usb' o 'camera'\n  const inputRef = useRef(null);\n  const scanBuffer = useRef('');\n  const scanTimeout = useRef(null);\n\n  // Mantener el foco en el input invisible para capturar el lector USB\n  useEffect(() => {\n    if (isActive && scannerMode === 'usb' && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [isActive, scannerMode, recentScans]);\n\n  // Refocus periódicamente para asegurar captura\n  useEffect(() => {\n    if (scannerMode === 'usb') {\n      const intervalId = setInterval(() => {\n        if (inputRef.current && document.activeElement !== inputRef.current) {\n          inputRef.current.focus();\n        }\n      }, 500);\n      return () => clearInterval(intervalId);\n    }\n  }, [scannerMode]);\n\n  const processAttendance = async (qrData) => {\n    try {\n      const response = await axios.post(`${API}/attendance`, {\n        qr_data: qrData.trim(),\n        recorded_by: user.id\n      });\n      \n      const attendance = response.data;\n      \n      // Toast de éxito\n      toast.success(\n        <div>\n          <strong>{attendance.user_name}</strong>\n          <br />\n          {attendance.check_out_time ? 'Salida registrada' : 'Entrada registrada'}\n          <br />\n          <small>{new Date(attendance.check_in_time).toLocaleTimeString('es-ES')}</small>\n        </div>,\n        { duration: 3000 }\n      );\n      \n      // Agregar a escaneos recientes\n      setRecentScans(prev => [attendance, ...prev.slice(0, 9)]);\n      \n      // Play sound\n      playSuccessSound();\n      \n    } catch (error) {\n      const message = error.response?.data?.detail || \"Error al registrar asistencia\";\n      toast.error(message, { duration: 4000 });\n      playErrorSound();\n    }\n  };\n\n  const playSuccessSound = () => {\n    const audio = new Audio('data:audio/wav;base64,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');\n    audio.play().catch(() => {});\n  };\n\n  const playErrorSound = () => {\n    const audio = new Audio('data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA==');\n    audio.play().catch(() => {});\n  };\n\n  const handleKeyDown = (e) => {\n    // El lector USB envía caracteres uno por uno\n    if (e.key === 'Enter') {\n      // El lector envía Enter al final\n      if (scanBuffer.current.trim()) {\n        processAttendance(scanBuffer.current);\n        scanBuffer.current = '';\n      }\n    } else if (e.key.length === 1) {\n      // Acumular caracteres\n      scanBuffer.current += e.key;\n      \n      // Timeout para limpiar buffer si no llega Enter\n      if (scanTimeout.current) {\n        clearTimeout(scanTimeout.current);\n      }\n      scanTimeout.current = setTimeout(() => {\n        scanBuffer.current = '';\n      }, 1000);\n    }\n  };\n\n  const formatTime = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit', second: '2-digit' });\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'present': return '#7cb342';\n      case 'late': return '#f4c430';\n      default: return '#6b7280';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Modo de Escaneo */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              {scannerMode === 'usb' ? (\n                <><Usb className=\"w-5 h-5\" /> Modo: Lector USB</>  \n              ) : (\n                <><QrCode className=\"w-5 h-5\" /> Modo: Cámara</>  \n              )}\n            </CardTitle>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setScannerMode(scannerMode === 'usb' ? 'camera' : 'usb')}\n              data-testid=\"toggle-scanner-mode\"\n            >\n              Cambiar a {scannerMode === 'usb' ? 'Cámara' : 'USB'}\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {scannerMode === 'usb' ? (\n            <div className=\"space-y-4\">\n              {/* Input invisible para capturar el lector USB */}\n              <input\n                ref={inputRef}\n                type=\"text\"\n                onKeyDown={handleKeyDown}\n                className=\"sr-only\"\n                autoFocus\n                aria-label=\"Scanner input\"\n              />\n              \n              <div className=\"text-center p-12 border-2 border-dashed rounded-lg\" style={{\n                borderColor: isActive ? '#7cb342' : '#ccc',\n                backgroundColor: isActive ? '#f0f9f0' : '#f5f5f5'\n              }}>\n                <Usb className=\"w-16 h-16 mx-auto mb-4\" style={{ color: '#1e3a5f' }} />\n                <h3 className=\"text-xl font-semibold mb-2\">\n                  {isActive ? 'Lector USB Activo' : 'Lector USB Inactivo'}\n                </h3>\n                <p className=\"text-gray-600 mb-4\">\n                  {isActive \n                    ? 'Acerque el carnet al lector QR USB. El registro será automático e inmediato.'\n                    : 'El lector está pausado. Active para continuar.'}\n                </p>\n                <div className=\"flex justify-center gap-4\">\n                  <Button\n                    onClick={() => setIsActive(!isActive)}\n                    variant={isActive ? 'destructive' : 'default'}\n                    data-testid=\"toggle-scanner\"\n                  >\n                    {isActive ? 'Pausar' : 'Activar'} Lector\n                  </Button>\n                </div>\n                \n                {isActive && (\n                  <div className=\"mt-4 flex items-center justify-center gap-2 text-green-600\">\n                    <div className=\"animate-pulse w-3 h-3 bg-green-600 rounded-full\"></div>\n                    <span className=\"text-sm font-medium\">Esperando escaneo...</span>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <h4 className=\"font-semibold text-blue-900 mb-2 flex items-center gap-2\">\n                  <AlertCircle className=\"w-4 h-4\" />\n                  Instrucciones del Lector USB:\n                </h4>\n                <ul className=\"text-sm text-blue-800 space-y-1\">\n                  <li>• El lector QR USB 2D Steren funciona como un teclado</li>\n                  <li>• Acerque el carnet al lector - NO necesita presionar nada</li>\n                  <li>• El registro es automático e instantáneo</li>\n                  <li>• Después de cada escaneo, está listo para el siguiente</li>\n                  <li>• Si no funciona, verifique que el lector esté conectado</li>\n                </ul>\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center p-8\">\n              <QrCode className=\"w-12 h-12 mx-auto mb-4\" style={{ color: '#1e3a5f' }} />\n              <p className=\"text-gray-600\">Modo cámara disponible como respaldo</p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                Use este modo si el lector USB no está disponible\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Registros Recientes */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Registros Recientes</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {recentScans.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              No hay registros recientes\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {recentScans.map((scan, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center justify-between p-3 bg-white rounded-lg border hover:shadow-md transition-shadow\"\n                  data-testid={`recent-scan-${index}`}\n                >\n                  <div className=\"flex items-center space-x-3\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600\" />\n                    <div>\n                      <p className=\"font-semibold\">{scan.user_name}</p>\n                      <p className=\"text-xs text-gray-600 capitalize\">{scan.user_role}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p \n                      className=\"text-sm font-semibold\"\n                      style={{ color: getStatusColor(scan.status) }}\n                    >\n                      {scan.check_out_time ? 'Salida' : 'Entrada'}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {formatTime(scan.check_out_time || scan.check_in_time)}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default USBQRScanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}